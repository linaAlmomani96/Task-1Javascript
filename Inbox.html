<!DOCTYPE html>
<html>
    <head>
        <link href="style.css" rel="stylesheet" type="text/css"/>
        
        <script type="text/javascript">

        function Toggle(value){
            switch (value) {
                        case 'Inbox':
                        document.getElementById("Inbox").style.display = "block";
                        document.getElementById("SentMail").style.display = "none";
                        document.getElementById("SendEmail").style.display = "none";
                        document.getElementById("InboxMenu").classList.add("active");
                        document.getElementById("SentMenu").classList.remove("active");
                        break;
                        case 'SentMail':
                        document.getElementById("Inbox").style.display = "none";
                        document.getElementById("SentMail").style.display = "block";
                        document.getElementById("SendEmail").style.display = "none";
                        document.getElementById("InboxMenu").classList.remove("active");
                        document.getElementById("SentMenu").classList.add("active");
                        break;
                        case 'SendEmail':
                        document.getElementById("Inbox").style.display = "none";
                        document.getElementById("SentMail").style.display = "none";
                        document.getElementById("SendEmail").style.display = "block";
                        document.getElementById("InboxMenu").classList.remove("active");
                        document.getElementById("SentMenu").classList.remove("active");
                        break;    
            }        
        }

      function  CheckedAll(){
        //   debugger;
        //   find  =>all
          let inbox =document.getElementById("Inbox");
          let actionsBox = inbox.getElementsByClassName("ActionsBox")
          let chk = actionsBox[0].getElementsByTagName('input');
        // find div =>input
        let mailBox = inbox.getElementsByClassName("MailBox");
        let rowInput = mailBox[0].getElementsByTagName('tr');
        if(chk[0].checked == true)
        {
            for(let i = 0; i < rowInput.length ;i++){
                rowInput[i].children[0].firstElementChild.checked = true;
            }
        }
        else{
            for(let i = 0; i < rowInput.length ;i++){
                rowInput[i].children[0].firstElementChild.checked = false;
            }
        }
        }

       function deleteCheckedInbox(){
        //    debugger;
          //  find  =>delete
          let inbox =document.getElementById("Inbox");
          let actionsBox = inbox.getElementsByClassName("ActionsBox")
          let deleteImg = actionsBox[1].getElementsByTagName('img')[0];
          //all input bar
          let chk = actionsBox[0].getElementsByTagName('input');
          //find input
          let mailBox = inbox.getElementsByClassName("MailBox");
          let rowInput = mailBox[0].getElementsByTagName('tr');
            let temp=[];
            for(let i = 0; i < rowInput.length ;i++){
               if(rowInput[i].children[0].firstElementChild.checked == true)
               {
                   temp.push(rowInput[i]);
               }
            }
            for(let j =0 ;j< temp.length ; j++){
                temp[j].remove();
                
            }
             chk[0].checked =false;
        }

        function markasRead(){
          //  debugger;
          //  find =>markasread
          let inbox =document.getElementById("Inbox");
          let actionsBox = inbox.getElementsByClassName("ActionsBox")
          let markRead = actionsBox[2].getElementsByTagName('img')[0];
              //all input bar
          let chk = actionsBox[0].getElementsByTagName('input');
          //find input
          let mailBox = inbox.getElementsByClassName("MailBox");
          let rowInput = mailBox[0].getElementsByTagName('tr');
          let temp=[];
          for(let i = 0; i < rowInput.length ;i++){
               if(rowInput[i].children[0].firstElementChild.checked == true)
               {
                   rowInput[i].classList.remove("Unread");
                   rowInput[i].children[0].firstElementChild.checked = false;
               }
            }
            chk[0].checked=false;
        }

        function fromEmailUnread(x){
         // debugger;
          let temp =x;
          temp.parentElement.classList.remove("Unread");
          }

        function displayEmailAction(x){
         x.getElementsByClassName("emailAction")[0].style.display="block";
         }
        function hideEmailAction(x){
         x.getElementsByClassName("emailAction")[0].style.display="none";
         }
        function makeAsUnread(x){
        //  debugger;
         let tr = x.parentElement.parentElement.parentElement;
         tr.classList.add("Unread");
         }
        function deleteEmail(x){
         // debugger;
         let tr = x.parentElement.parentElement.parentElement;
         tr.remove();
         }
        function sendEmail(){
            debugger;
            let email = document.getElementById('txtTo').value;
            let subject = document.getElementById('txtSubject').value;
            if(email.length !=0 && subject.length !=0)
            {
            let tbl = document.getElementById('tblSent')
            let tr = document.createElement('tr');

            let td1 = document.createElement('td')
            let chk = document.createElement('input');
            chk.setAttribute('type','checkbox');
            td1.appendChild(chk);
            tr.appendChild(td1);
            
            let td2 = document.createElement('td');
            let td2_val = document.createTextNode(email);
            td2.appendChild(td2_val);
            tr.appendChild(td2);

            let td3 = document.createElement('td');
            let td3_val = document.createTextNode(subject);
            td3.appendChild(td3_val);
            tr.appendChild(td3);

            let td4 = document.createElement('td');
            let today = new Date();
            let td4_val = document.createTextNode(today.toDateString());
            td4.appendChild(td4_val);
            tr.appendChild(td4);

            tbl.appendChild(tr);}

            else
            document.getElementsByClassName('ButtonSubmit').disabled = true;

        }


        function  CheckedAllSentMail(){
        //   debugger;
        //   find  =>all
          let sentMail =document.getElementById("SentMail");
          let actionsBox = sentMail.getElementsByClassName("ActionsBox")
          let chk = actionsBox[0].getElementsByTagName('input');
        // find div =>input
        let mailBox = sentMail.getElementsByClassName("MailBox");
        let rowInput = mailBox[0].getElementsByTagName('tr');
        if(chk[0].checked == true)
        {
            for(let i = 0; i < rowInput.length ;i++){
                rowInput[i].children[0].firstElementChild.checked = true;
            }
        }

        else{
            for(let i = 0; i < rowInput.length ;i++){
                rowInput[i].children[0].firstElementChild.checked = false;
            }
        }
        } 
       function deleteCheckedSentMail(){
        //    debugger;
          //  find  =>delete
          let sentMail =document.getElementById("SentMail");
          let actionsBox = sentMail.getElementsByClassName("ActionsBox")
          let deleteImg = actionsBox[1].getElementsByTagName('img')[0];
          //all input bar
          let chk = actionsBox[0].getElementsByTagName('input');
          //find input
          let mailBox = sentMail.getElementsByClassName("MailBox");
          let rowInput = mailBox[0].getElementsByTagName('tr');
            let temp=[];
            for(let i = 0; i < rowInput.length ;i++){
               if(rowInput[i].children[0].firstElementChild.checked == true)
               {
                   temp.push(rowInput[i]);
               }
            }
            for(let j =0 ;j< temp.length ; j++){
                temp[j].remove();   
            }
             chk[0].checked =false;
        }
        </script>
    </head>
    <body>
        <div class="ContainerBox">
        <div class="menuBox">
            <div class="HeaderLeftSide">
                <div class="HeaderimgBox">
                    <img src="avatar1.png" style="width: 60px;" />
                </div>
                <div class="HeaderInfoBox">
                    <h5>Jonathan Smith</h5>
                    <span>jsmith@gmail.com</span>

                </div>

            </div>
            <div class="ComposeBox">
                <button class="btn ComposeButton" onclick="Toggle('SendEmail')" >compose</button>
            </div>
            <div class="MenuItemBox">
                <div class="menueItem active" id="InboxMenu">
                <span onclick="Toggle('Inbox')">
                    Inbox
                </span>
            </div>
            <div class="menueItem" id="SentMenu">
                <span onclick="Toggle('SentMail')" >  
                    Sent Mail
                </span>
            </div>
            </div>
        </div>
        <div class="ContentBox">
            <div class="HeaderRightSide">
                <h3>Inbox</h3>
            </div>

            <div id="Inbox" class="Container">
            <div class="ActionContainer">
                <div class="ActionsBox">
                    <input type="checkbox" onclick="CheckedAll()" />All
                </div>
                <div class="ActionsBox">
                    <img src="delete.png" class="ActionIcons" onclick="deleteCheckedInbox()" />
                </div>
                <div class="ActionsBox">
                    <img src="mark_read.png" class="ActionIcons" onclick="markasRead()" />
                </div>
            </div>
            <div class="MailBox">
                <table>
                    <colgroup style="width: 10%;"/>
                    <colgroup style="width: 30%;"/>
                    <colgroup style="width: 10%;"/>
                    <colgroup style="width: 30%;"/>
                    <colgroup style="width: 20%;"/>
                    <tr class="Unread" onmouseover="displayEmailAction(this)" onmouseout="hideEmailAction(this)">
                        <td>
                            <input type="checkbox"/>
                        </td>
                        <td onclick="fromEmailUnread(this)" >
                            JKribo@gmail.com
                        </td>
                        <td>
                            <div class="emailAction" style="display: none;">
                            <img src="delete.png" class="ActionIcons" onclick="deleteEmail(this)"  />
                            <img src="mark_unread.png" class="ActionIcons" onclick="makeAsUnread(this)";/>
                        </div>
                        </td>
                        <td>
                            JavaScript Task
                        </td>
                        <td>
                            Sat Sep 04 2021
                        </td>

                    </tr>
                    <tr class="Unread" onmouseover="displayEmailAction(this)" onmouseout="hideEmailAction(this)" >
                        <td>
                            <input type="checkbox"/>
                        </td>
                        <td onclick="fromEmailUnread(this)" >
                            JKribo@gmail.com
                        </td>
                        <td>
                            <div class="emailAction" style="display: none;">
                            <img src="delete.png" class="ActionIcons" onclick="deleteEmail(this)"  />
                            <img src="mark_unread.png" class="ActionIcons" onclick="makeAsUnread(this)" />
                        </div>
                        </td>
                        <td>
                            JavaScript Task#2
                        </td>
                        <td>
                            Sat Sep 05 2021
                        </td>

                    </tr>
                </table>

            </div>
        </div>
        <div id="SendEmail" class="Container" style="display: none;">
            <div class="InputBoxes">
                <span style="margin-right: 50px;">To:</span>
                <input type="text" placeholder="Type Email" id="txtTo" />
            </div>
            <div class="InputBoxes">
                <span>Subject:</span>
                <input type="text" placeholder="Type Subject" id="txtSubject" />
            </div>
            <div class="InputBoxes textareaBox">
                <textarea id="txtBody"></textarea>
            </div>
            <div class="actionBar">
                <div class="SaveChangesBox">
                    <button class="btn ButtonSubmit" onclick="sendEmail()" >Send</button>
                </div>
                <div class="CancelBox">
                    <button class="btn btn-default" onclick="Toggle('Inbox')" >Cancel</button>
                </div>
            </div>
        </div>
        <div id="SentMail" class="Container" style="display: none;">
            <div class="ActionContainer">
                <div class="ActionsBox">
                    <input type="checkbox" onclick="CheckedAllSentMail()" />All
                </div>
                <div class="ActionsBox">
                    <img src="delete.png" class="ActionIcons" onclick="deleteCheckedSentMail()"/>
                </div>
            </div>
            <div class="MailBox">
                <table id="tblSent">
                    <colgroup style="width: 10%;"/>
                    <colgroup style="width: 35%;"/>
                    <colgroup style="width: 35%;"/>
                    <colgroup style="width: 20%;"/>
			 <tr>
                        <td>
                            <input type="checkbox"/>
                        </td>
                        <td >
                            JKribo@gmail.com
                        </td>
                        <td>
                            JavaScript Task#1
                        </td>
                        <td>
                            Sat Sep 04 2021
                        </td>

                    </tr>
                    
                   
                </table>

            </div>
        </div>

        </div>
    </div>

    </body>
</html>